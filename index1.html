<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>แจ้งปัญหา IT</title>
</head>
<body>
  <h2>แจ้งปัญหา IT</h2>

  <form id="form">
    <input placeholder="ชื่อผู้แจ้ง" id="name"><br><br>
    <input placeholder="แผนก" id="dept"><br><br>
    <input placeholder="เบอร์โทร" id="phone"><br><br>
    <input placeholder="ประเภทปัญหา" id="type"><br><br>
    <textarea placeholder="รายละเอียด" id="detail"></textarea><br><br>

    <select id="priority">
      <option value="ปกติ">ปกติ</option>
      <option value="ด่วน">ด่วน</option>
    </select><br><br>

    <button type="submit">ส่งแจ้งปัญหา</button>
  </form>

  <script>
    document.getElementById("form").onsubmit = async (e) => {
      e.preventDefault();

      await fetch("PUT_N8N_WEBHOOK_URL_HERE", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          action: "NEW",
          "ชื่อผู้แจ้ง": name.value,
          "แผนก": dept.value,
          "เบอร์โทร": phone.value,
          "ประเภทปัญหา": type.value,
          "รายละเอียด": detail.value,
          "ความเร่งด่วน": priority.value
        })
      });

      alert("ส่งแจ้งปัญหาเรียบร้อย");
    };
  </script>
</body>
</html>
